"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateManifest = exports.PanoramaManifestError = exports.manifestSchema = void 0;
const tslib_1 = require("tslib");
const schema_utils_1 = tslib_1.__importDefault(require("schema-utils"));
const WebpackError_1 = tslib_1.__importDefault(require("webpack/lib/WebpackError"));
const manifest_schema_json_1 = tslib_1.__importDefault(require("./manifest.schema.json"));
exports.manifestSchema = manifest_schema_json_1.default;
const getErrorName = (manifestName) => `PanoramaManifestPlugin${manifestName !== undefined ? ` (${manifestName})` : ''}`;
class PanoramaManifestError extends WebpackError_1.default {
    constructor(message, manifestName) {
        super(`${getErrorName(manifestName)}\n${message}`);
        this.name = 'PanoramaManifestError';
    }
}
exports.PanoramaManifestError = PanoramaManifestError;
function validateManifest(manifest, manifestName) {
    schema_utils_1.default(manifest_schema_json_1.default.items, manifest, {
        baseDataPath: 'manifest',
        name: getErrorName(manifestName),
    });
}
exports.validateManifest = validateManifest;
//# sourceMappingURL=manifest.js.map